<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ReadTogether | Unir nos lectures</title>
  <link rel="stylesheet" href="style.css" />
  <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
/>

</head>

<body>

  <!-- //////// HEADER ////////-->
  <header class="header">

    <!-- Titre de l'Application class="logo" : style.css -->
    <div class="logo">
      <h1>Together</h1>
    </div>

    <!-- Barre de navigation en haut √† droite de l'√©cran class="header-right" : style.css -->
    <nav class="header-right">
      <button id="menuLogout" class="btn btn-danger" style="display:none">D√©connexion</button>
      <div id="menuUserAvatar" class="avatar-sm"><img src="default.jpg" alt="Avatar utilisateur" class="avatar" /></div>
    </nav>
  </header>

  <main id="main">
    <section id="home" class="page">
      <div class="home-card">
        <h2>Bienvenue sur ReadTogether</h2>
        <p>Unir nos lectures, unir nos c≈ìurs. Organisez la r√©partition des 30 Juz en groupe.</p>
        <button id="homeConnectBtn" class="btn btn-primary" aria-haspopup="true">Se connecter</button>
      </div>
    </section>
<!--
    <section id="authPage" class="page" hidden>
      <div id="emailAuth" class="card">
        <h3>Connexion Email</h3>
        <input id="emailInput" type="email" placeholder="Adresse email" />
        <input id="passwordInput" type="password" placeholder="Mot de passe" />
        <input id="pseudoInput" type="text" placeholder="Pseudo (obligatoire)" />
        <button id="emailLoginBtn" class="btn btn-success">Connexion</button>
        <button id="emailSignupBtn" class="btn btn-primary">Cr√©er un compte</button>
        <p class="center">Ou</p>
        <button id="googleLogin" class="btn btn-google">Connexion avec Google</button>
        <p class="center"><a id="forgotPassword" href="#">Mot de passe oubli√© ?</a></p>
      </div>
    </section>
  -->

  <section id="authPage" class="page card" hidden>
    <div class="auth-tabs">
      <button class="auth-tab active" data-tab="loginPanel">Se connecter</button>
      <button class="auth-tab" data-tab="signupPanel">S'inscrire</button>
    </div>
  
    <!-- Connexion -->
    <div id="loginPanel" class="auth-panel active">
      <div class="card">
        <h3>Connexion Email</h3>
        <input id="emailInput" type="email" placeholder="Adresse email" />
        <input id="passwordInput" type="password" placeholder="Mot de passe" />
        <button id="emailLoginBtn" class="btn btn-success">Connexion</button>
        <!--<button id="googleLogin" class="btn btn-google">Connexion avec Google</button>-->
        <p class="center"><a id="forgotPassword" href="#">Mot de passe oubli√© ?</a></p>
        <!-- Feedback ici -->
        <div id="loginFeedback" class="auth-feedback"></div>
      </div>
    </div>
  
    <!-- Inscription -->
    <div id="signupPanel" class="auth-panel">
      <div class="card">
        <h3>Cr√©er un compte</h3>
        <input id="pseudoInput" type="text" placeholder="Pseudo (obligatoire)" />
        <input id="signupEmailInput" type="email" placeholder="Adresse email" />
        <input id="signupPasswordInput" type="password" placeholder="Mot de passe" />
        <button id="emailSignupBtn" class="btn btn-primary">Cr√©er un compte</button>
        <!-- Feedback ici -->
        <div id="signupFeedback" class="auth-feedback"></div>
      </div>
    </div>
  </section>
  
  
    <section id="dashboard" class="page" hidden>
      <div id="sessionsList" class="card">
        <div class="campagne-header">
          <h3>Campagnes</h3>
        </div>
        <!--  üîç Barre de recherche ajout√©e ici  -->
        <div class="search-wrapper" style="position: relative; margin: 10px 0;">
          <span
            style="position:absolute;top:50%;left:10px;transform:translateY(-50%);font-size:18px;color:#555;">üîç</span>
          <input type="text" id="searchCampaignInput" placeholder="Rechercher une campagne..."
            style="width:100%;padding:8px 10px 8px 35px; /* espace ajout√© pour la loupe */ border-radius:6px;border:1px solid #ccc;" />
        </div>
        <!-- Fin ajout -->

        <div class="campagne-header">
          <button id="toutes" class="tab-btn active">Toutes</button>
          <button id="lectures" class="tab-btn">Lectures</button>
          <button id="historique" class="tab-btn">Historique</button>
        </div>

        <h4 id="campaignTitle"></h4>
        <!-- Onglets Type Campagne -->
        <div class="campagneType-tabs">
          <button id="tabCoran" class="tab-btn active">Lecture Coran</button>
          <button id="tabZikr" class="tab-btn">S√©rie de Zikr</button>
        </div>
        <div id="sessions"></div>
      </div>

      <!-- Ent√™te de session s√©par√©e
      <div id="sessionHeader" class="session-header card hidden">

        <h3 id="sessionTitle">Lecture</h3>
        <div id="sessionMeta"></div>
        <div id="stats" class="stats">Termin√©s : 0/30</div>
        <div style="margin-top:12px;">
          <button id="closeSessionBtn" class="btn btn-danger" style="display:none">Cl√¥turer la campagne</button>
        </div>

      </div> -->
      <div id="sessionView" class="card" hidden>
        <h3 id="sessionTitle">Lecture</h3>
        <div id="sessionMeta"></div>
        <div id="stats" class="stats">Termin√©s : 0/30</div>
        <div style="margin-top:12px;">
          <button id="closeSessionBtn" class="btn btn-danger" style="display:none">Cl√¥turer la campagne</button>
        </div>
        <!-- Onglets -->
        <div class="session-tabs">
          <button id="tabJuz" class="tab-btn">Juz</button>
          <button id="tabFormula" class="tab-btn">Formule de Zikr</button>
          <button id="tabDiscussion" class="tab-btn">Discussion</button>
        </div>



        <!-- Barre de s√©lection -->
        <div id="juzSelectionBar" class="juz-selection-bar hidden">

          <label class="juz-checkbox">
            <input type="checkbox" id="checkAllJuz" />
            Tout
          </label>

          <span id="selectedJuzLabel">S√©lection Juz :</span>

          <div id="bulkActions" class="bulk-actions">
            <button id="validateJuzBtn" class="btn btn-primary">
              Valider choix
            </button>
            <button id="finishJuzBtn" class="btn btn-success">
              Marquer termin√©
            </button>
          </div>
          <div id="juzFeedback" class="juz-feedback"></div>

        </div>

        <div id="grid" class="grid"></div>

        <!-- ====== ZIKR VIEW ====== -->
        <div id="zikrView" class="card hidden">

          <!--<div id="zikrMeta"></div>-->
          <div id="zikrFeedback" class="zikr-feedback"></div>

          <button id="validateZikrChoices" class="btn btn-success">
            Valider les choix
          </button>

          <div id="zikrFormulas" class="grid">
            <!-- formules inject√©es en JS -->
          </div>


        </div>




<!--
        <div id="discussionSection" class="card hidden">

          <h4>Discussion de la campagne</h4>

          <div id="messagesList" class="messages"></div>

          <div id="messageForm">
            <input id="messageInput" placeholder="√âcrire un message‚Ä¶" maxlength="500" />
            <button id="sendMessageBtn" class="btn btn-primary">
              Envoyer
            </button>
          </div>
        </div>-->


        <div id="discussionSection" class="card hidden">
          <h4>Discussion de la campagne</h4>
        
          <div id="messagesList" class="messages"></div>
        
<!-- Formulaire de message -->
<div id="messageForm" class="message-form">
  <input id="messageInput" class="zikr-input" placeholder="√âcrire un message‚Ä¶" maxlength="500" />
  <button id="sendMessageBtn" class="btn btn-icon">
    <!-- Ic√¥ne Telegram -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon">
      <path d="M2 21l21-9L2 3v7l15 2-15 2v7z"/>
    </svg>
  </button>
</div>

          
        </div>
        
      </div>

    </section>

  </main>




  <!-- Scroll Up -->
<button id="scrollTopBtn" class="scroll-btn" aria-label="Retour en haut">
  ‚¨ÜÔ∏è
</button>

<!-- Scroll Down -->
<button id="scrollDownBtn" class="scroll-btn" aria-label="Descendre">
  ‚¨áÔ∏è
</button>


  <script type="module" src="firebase.js"></script>
  <script type="module" src="app.js"></script>



  <div id="bottomActionBtn" class="bottom-actions" style="display:none">

    <!-- Rejoindre -->
    <button id="joinWithCodeBtn" class="bottom-btn">
      <span class="icon-circle">
        <i class="fa-solid fa-users icon"></i>
      </span>
      <span class="label">Rejoindre</span>
    </button>
  
    <!-- Nouvelle Campagne -->
    <button id="newSessionBtn" class="bottom-btn">
      <span class="icon-circle">
        <i class="fa-solid fa-plus icon"></i>
      </span>
      <span class="label">D√©marrer</span>
    </button>
  
    <!-- Param√®tres -->
    <button id="profileEdition" class="bottom-btn">
      <span class="icon-circle">
        <i class="fa-solid fa-gear icon"></i>
      </span>
      <span class="label">Param√©trer</span>
    </button>
  
  </div>
  

  </div>

</body>

</html>