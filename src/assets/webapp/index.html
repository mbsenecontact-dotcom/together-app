<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ReadTogether | Unir nos lectures</title>
  <link rel="stylesheet" href="style.css" />
  <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
/>

</head>

<body>

  <!-- //////// HEADER ////////-->
  <header class="header">

    <!-- Titre de l'Application class="logo" : style.css -->
    <div class="logo">
      <h1>Together</h1>
    </div>

    <!-- Barre de navigation en haut Ã  droite de l'Ã©cran class="header-right" : style.css -->

    <nav class="header-right">
      <select id="languageSelect" class="lang-select">
        <option value="fr" data-flag="ğŸ‡«ğŸ‡·">ğŸ‡«ğŸ‡· FranÃ§ais</option>

        <!-- Wolof â†’ SÃ©nÃ©gal 
        <option value="wo" data-flag="ğŸ‡¸ğŸ‡³">ğŸ‡¸ğŸ‡³ Wolof</option>
        
        <option value="en" data-flag="ğŸ‡¬ğŸ‡§">ğŸ‡¬ğŸ‡§ Anglais</option>
        
        <option value="ar" data-flag="ğŸ‡¸ğŸ‡¦">ğŸ‡¸ğŸ‡¦ Arabe</option>
        <option value="es" data-flag="ğŸ‡ªğŸ‡¸">ğŸ‡ªğŸ‡¸ Espagnol</option>
        <option value="pt" data-flag="ğŸ‡µğŸ‡¹">ğŸ‡µğŸ‡¹ Portugais</option>
        <option value="de" data-flag="ğŸ‡©ğŸ‡ª">ğŸ‡©ğŸ‡ª Allemand</option>-->
        
      </select>
    
      <div id="menuUserAvatar" class="avatar-sm">
        <img src="default.jpg" alt="Avatar utilisateur" class="avatar" />
      </div>
    </nav>
    
  </header>

  <main id="main">


    <section id="home" class="page">
      <div class="home-card">
        <h2>Bienvenue sur Together App</h2>
        <p>
          Rassemblons nos cÅ“urs autour du zikr.
          Partagez la lecture des 30 Juz et accomplissez
          des formules de zikr ensemble, oÃ¹ que vous soyez.
        </p>

        <button id="homeConnectBtn" class="btn btn-primary" aria-haspopup="true">Se connecter</button>
      </div>
    </section>

    

    <section id="authPage" class="page card" hidden>
      <div class="auth-tabs">
        <button class="auth-tab active" data-tab="loginPanel">Se connecter</button>
        <button class="auth-tab" data-tab="signupPanel">S'inscrire</button>
      </div>
    
      <!-- Connexion -->
      <div id="loginPanel" class="auth-panel active">
        <div class="card">
          <h3>Connexion Email</h3>
          <input id="emailInput" type="email" placeholder="Adresse email" />
          <input id="passwordInput" type="password" placeholder="Mot de passe" />
          <button id="emailLoginBtn" class="btn btn-success">Connexion</button>
          <p class="center"><a id="forgotPassword" href="#">Mot de passe oubliÃ© ?</a></p>
          <!-- Feedback ici -->
          <div id="loginFeedback" class="auth-feedback"></div>
        </div>
      </div>
    
      <!-- Inscription -->
       
      <!-- Feedback ici 
      <div id="signupPanel" class="auth-panel">
        <div class="card">
          <h3>CrÃ©er un compte</h3>
          <input id="pseudoInput" type="text" placeholder="Pseudo (obligatoire)" />
          <input id="signupEmailInput" type="email" placeholder="Adresse email" />
          <input id="signupPasswordInput" type="password" placeholder="Mot de passe" />
          <button id="emailSignupBtn" class="btn btn-primary">CrÃ©er un compte</button>
          
          <div id="signupFeedback" class="auth-feedback"></div>
        </div>
      </div>-->
      
      <div id="signupPanel" class="auth-panel">
        <div class="card">
          <h3>CrÃ©er un compte</h3>
      
          <input id="pseudoInput" type="text" placeholder="Pseudo (obligatoire)" />
          <input id="signupEmailInput" type="email" placeholder="Adresse email" />
          <input id="signupPasswordInput" type="password" placeholder="Mot de passe" />
      
          <!-- âœ… Consentement -->
          <label class="consent-checkbox" style="margin:12px 0;display:block">
            <input type="checkbox" id="consentCheckbox" />
            <span>
              Jâ€™accepte la collecte et lâ€™utilisation de mes donnÃ©es personnelles.
              <a href="#" id="openPrivacyInfo">Vos donnÃ©es personnelles</a>
            </span>
          </label>
      
          <button id="emailSignupBtn" class="btn btn-primary">
            CrÃ©er un compte
          </button>
      
          <div id="signupFeedback" class="auth-feedback"></div>
        </div>
      </div>
      

    </section>
  
  
    <section id="dashboard" class="page" hidden>
      <div id="sessionsList" class="card">
        <div class="campagne-header">
          <h3>Campagnes</h3>
        </div>
        <!--  ğŸ” Barre de recherche ajoutÃ©e ici  -->
        <div class="search-wrapper" style="position: relative; margin: 10px 0;">
          <span
            style="position:absolute;top:50%;left:10px;transform:translateY(-50%);font-size:18px;color:#555;">ğŸ”</span>
          <input type="text" id="searchCampaignInput" placeholder="Rechercher une campagne..."
            style="width:100%;padding:8px 10px 8px 35px; /* espace ajoutÃ© pour la loupe */ border-radius:6px;border:1px solid #ccc;" />
        </div>
        <!-- Fin ajout -->

        <div class="campagne-header">
          <button id="toutes" class="tab-btn active">Toutes</button>
          <button id="lectures" class="tab-btn">Lectures</button>
          <button id="historique" class="tab-btn">Historique</button>
          <button id="utilitaire" class="tab-btn">Utilitaire</button>
          <button id="publicite" class="tab-btn">PublicitÃ©</button>
        </div>

        <h4 id="campaignTitle"></h4>
        <!-- Onglets Type Campagne -->
        <div class="campagneType-tabs">
          <button id="tabCoran" class="tab-btn active">Lecture Coran</button>
          <button id="tabZikr" class="tab-btn">SÃ©rie de Zikr</button>
        </div>

        
        <div id="sessions"></div>
      </div>

      <div id="sessionView" class="card" hidden>
        <button id="backToSessionsBtn" class="back-btn">
          <i class="fa-solid fa-arrow-left"></i>
          Campagnes
        </button>
        
        <h3 id="sessionTitle">Lecture</h3>
        <div class="session-actions">
          <button
            id="sessionMenuBtn"
            class="icon-btn"
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Actions de la campagne"
          >
            <i class="fa-solid fa-ellipsis-vertical"></i>
          </button>
        
          <div id="sessionMenu" class="session-menu hidden" role="menu">
            <button class="menu-item" id="menuShare" role="menuitem">
              <i class="fa-solid fa-share-nodes"></i>
              <span class="value" id="inviteCodeValue"></span>
            </button>
            
        
            <button class="menu-item" id="menuEdit" role="menuitem">
              <i class="fa-solid fa-pen"></i>
              Modifier la campagne
            </button>
        
            <button class="menu-item danger" id="closeSessionBtn" role="menuitem">
              <i class="fa-solid fa-lock"></i>
              ClÃ´turer la campagne
            </button>
        
            <button class="menu-item danger" id="menuDelete" role="menuitem">
              <i class="fa-solid fa-trash"></i>
              Supprimer la campagne
            </button>
          </div>
        </div>
        
        <div id="sessionMeta"></div>
        <div id="stats" class="stats">TerminÃ©s : 0/30</div>
       <!-- <div style="margin-top:12px;">
          <button id="closeSessionBtn" class="btn btn-danger" style="display:none">ClÃ´turer la campagne</button>
        </div>-->
        <!-- Onglets -->
        <div class="session-tabs">
          <button id="tabJuz" class="tab-btn">Juz</button>
          <button id="tabFormula" class="tab-btn hidden">Formule de Zikr</button>
          <button id="tabDiscussion" class="tab-btn">Discussion</button>
        </div>


        <div id="grid" class="card"></div>

        <!-- ====== ZIKR VIEW ====== -->
        <div id="zikrView" class="card hidden">

          <!--<div id="zikrMeta"></div>-->
          <div id="zikrFeedback" class="zikr-feedback"></div>

          <div id="zikrFormulas" class="grid"></div>

        </div>



        <div id="discussionSection" class="card hidden">
          <h4>Discussion de la campagne</h4>
        
          <div id="messagesList" class="messages"></div>
        
          <!-- Formulaire de message -->
          <div id="messageForm" class="message-form">
            <input id="messageInput" class="zikr-input" placeholder="Ã‰crire un messageâ€¦" maxlength="500" />
            <button id="sendMessageBtn" class="btn btn-icon">
              <!-- IcÃ´ne Telegram -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon">
                <path d="M2 21l21-9L2 3v7l15 2-15 2v7z"/>
              </svg>
            </button>
          </div>
          
        </div>
        
      </div>
    </section>
    <section id="publicitePage" class="page" hidden>
      <div class="card">
              <button id="globalBackBtn" class="back-btn hidden"><i class="fa-solid fa-arrow-left"></i>Campagnes</button>
        <div class="campagne-header">
          <h3>PublicitÃ© & Partenariats</h3>
        </div>
    
        <!-- Onglets -->
        <div class="pub-tabs">
          <button id="tabProjets" class="tab-btn active">Projets</button>
          <button id="tabVentes" class="tab-btn">Ventes</button>
          <button id="tabPartenaires" class="tab-btn">Partenaires</button>
        </div>
    
        <!-- Contenu -->
        <div id="publiciteContent" class="pub-carousel"></div>

    
      </div>
    
    </section>
    <section id="utilitairePage" class="page" hidden>
      <div class="card">
        <button id="utilitaireBackBtn" class="back-btn hidden"><i class="fa-solid fa-arrow-left"></i>Campagnes</button>
        <div class="campagne-header">
          <h3>Utilitaire</h3>
        </div>
        <!-- Onglets -->
        <div class="util-tabs">
          <button class="tab-btn active" data-type="prieres">Fermeture</button>
          <button class="tab-btn" data-type="coran">Parties</button>
          <button class="tab-btn" data-type="zikr">Formules</button>
        </div>
      
        <!-- Carousel horizontal -->

          <div id="utilitaireContent" class="pub-carousel"></div>

    </div>
    </section>
    
    <button
      id="scrollTopBtn"
      class="scroll-btn scroll-btn-bottom"
      aria-label="Retour en haut">
      <i class="fas fa-chevron-up"></i>
    </button>



  <div id="bottomActionBtn" class="bottom-actions" style="display:none">

    <!-- Rejoindre -->
    <button id="joinWithCodeBtn" class="bottom-btn">
      <span class="icon-circle">
        <i class="fa-solid fa-users icon"></i>
      </span>
      <span class="label">Rejoindre</span>
    </button>

    <!-- Nouvelle Campagne -->
    <button id="newSessionBtn" class="bottom-btn">
      <span class="icon-circle">
        <i class="fa-solid fa-plus icon"></i>
      </span>
      <span class="label">DÃ©marrer</span>
    </button>
    
    <!-- ParamÃ¨tres -->
    <button id="profileEdition" class="bottom-btn">
      <span class="icon-circle">
        <i class="fa-solid fa-gear icon"></i>
      </span>
      <span class="label">Utilitaire</span>
    </button>

  </div>
  </main>


  <script type="module" src="firebase.js"></script>
  <script type="module" src="app.js"></script>

</body>

</html>